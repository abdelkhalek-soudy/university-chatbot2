#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ุงุฎุชุจุงุฑ ุจุณูุท ููุธุงู ุงูููุชุฑุฉ
"""

# ุงุณุชูุฑุงุฏ ุงูุฏูุงู ูู app.py
import sys
import os
sys.path.append(os.path.dirname(__file__))

from app import is_related_to_university, _contains_university_keywords

def test_keyword_filter():
    """ุงุฎุชุจุงุฑ ููุชุฑ ุงููููุงุช ุงูููุชุงุญูุฉ"""
    print("๐ ุงุฎุชุจุงุฑ ููุชุฑ ุงููููุงุช ุงูููุชุงุญูุฉ:")
    print("-" * 40)
    
    # ุฃุณุฆูุฉ ูุชุนููุฉ ุจุงูุฌุงูุนุฉ
    university_questions = [
        "ูุง ูู ูููุงุช ุฌุงูุนุฉ ุจุงุฏูุงุ",
        "ูู ูุตุงุฑูู ุงูุฏุฑุงุณุฉุ",
        "ูุชู ูุจุฏุฃ ุงูุชุณุฌููุ",
        "ุฃุฑูุฏ ูุนูููุงุช ุนู ุงูุชุฎุตุตุงุช",
        "ูุง ุดุฑูุท ุงููุจููุ"
    ]
    
    # ุฃุณุฆูุฉ ุนุงูุฉ
    general_questions = [
        "ูุง ูู ุงูุทูุณ ุงููููุ",
        "ููู ุฃุทุจุฎ ุงูููุฑููุฉุ",
        "ูู ูู ุฑุฆูุณ ูุตุฑุ",
        "ุฃุฎุจุฑูู ููุชุฉ ูุถุญูุฉ",
        "ูุง ูู ุฃุฎุจุงุฑ ุงูุฑูุงุถุฉุ"
    ]
    
    print("โ ุฃุณุฆูุฉ ุงูุฌุงูุนุฉ (ูุฌุจ ุฃู ุชูุฑ):")
    for q in university_questions:
        result = _contains_university_keywords(q)
        status = "โ" if result else "โ"
        print(f"{status} {q} -> {result}")
    
    print("\nโ ุฃุณุฆูุฉ ุนุงูุฉ (ูุฌุจ ุฃู ุชูุฑูุถ):")
    for q in general_questions:
        result = _contains_university_keywords(q)
        status = "โ" if result else "โ"
        print(f"{status} {q} -> {result}")

def test_ai_filter():
    """ุงุฎุชุจุงุฑ ููุชุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู (ุจุฏูู ุงุณุชุฏุนุงุก API)"""
    print("\n๐ค ุงุฎุชุจุงุฑ ููุทู ุงูููุชุฑุฉ:")
    print("-" * 40)
    
    test_cases = [
        ("ูุง ูู ูููุงุช ุฌุงูุนุฉ ุจุงุฏูุงุ", "yes"),
        ("ูู ูุตุงุฑูู ุงูุฏุฑุงุณุฉุ", "yes"),
        ("ูุง ูู ุงูุทูุณ ุงููููุ", "no"),
        ("ููู ุฃุทุจุฎ ุงูููุฑููุฉุ", "no"),
    ]
    
    for question, expected in test_cases:
        # ูุฎุชุจุฑ ููุท ุงููููุงุช ุงูููุชุงุญูุฉ ูุชุฌูุจ ุงุณุชุฏุนุงุก API
        has_keywords = _contains_university_keywords(question)
        predicted = "yes" if has_keywords else "no"
        
        status = "โ" if predicted == expected else "โ"
        print(f"{status} '{question}' -> ุชููุน: {expected}, ูุชูุฌุฉ: {predicted}")

def main():
    print("๐งช ุจุฏุก ุงุฎุชุจุงุฑ ูุธุงู ุงูููุชุฑุฉ ุงููุญุณู...")
    print("=" * 60)
    
    test_keyword_filter()
    test_ai_filter()
    
    print("\n" + "=" * 60)
    print("๐ ููุฎุต:")
    print("- ุชู ุชุญุณูู ูุงุฆูุฉ ุงููููุงุช ุงูููุชุงุญูุฉ ูุชุดูู ูุตุทูุญุงุช ุฃูุซุฑ")
    print("- ุชู ุฅุนุงุฏุฉ ุชูุนูู ูุธุงู ุงูููุชุฑุฉ ูู ask_gpt()")
    print("- ุชู ุชุทุจูู ุงูููุชุฑุฉ ุนูู ุชุญููู ุงููููุงุช ุฃูุถุงู")
    print("- ุงููุธุงู ุงูุขู ูุฑูุถ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุชุนููุฉ ุจุงูุฌุงูุนุฉ")
    
    print("\n๐ฏ ููุงุฎุชุจุงุฑ ุงููุงูู:")
    print("1. ุงูุชุญ ุงููุชุตูุญ ุนูู http://localhost:5000")
    print("2. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงููุฏูุฑ: admin / badya@2024")
    print("3. ุฌุฑุจ ุฃุณุฆูุฉ ูุชุนููุฉ ุจุงูุฌุงูุนุฉ (ูุฌุจ ุฃู ุชุนูู)")
    print("4. ุฌุฑุจ ุฃุณุฆูุฉ ุนุงูุฉ ูุซู ุงูุทูุณ (ูุฌุจ ุฃู ุชูุฑูุถ)")

if __name__ == "__main__":
    main()
